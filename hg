# -*- coding: utf-8 -*-
from telebot import *
from time import sleep
import pickle
CONTENT_TYPES = ["text", "audio", "document", "photo", "sticker", "video", "video_note", "voice", "location", "contact",
                 "new_chat_members", "left_chat_member", "new_chat_title", "new_chat_photo", "delete_chat_photo",
                 "group_chat_created", "supergroup_chat_created", "channel_chat_created", "migrate_to_chat_id",
                 "migrate_from_chat_id", "pinned_message"]
bot = telebot.TeleBot('6460856766:AAFTJ37o0UXLxMNpiJmIeADGglxjPGRKTSQ')
def add_Inlin(text: Any,url = None,callback_data = None,web_app = None,switch_inline_query = None,switch_inline_query_current_chat = None,callback_game = None,pay = None,login_url = None,):
    return (types.InlineKeyboardButton(text, url, callback_data, web_app, switch_inline_query, switch_inline_query_current_chat, callback_game, pay, login_url))
def Inlin_Markup():
    return types.InlineKeyboardMarkup()
def FileDump(way, mode, data):
    myFile = open(way, mode)
    pickle.dump(data, myFile)
    myFile.close()
def FileLoad(way, mode):
    myFile = open(way, mode)
    data = pickle.load(myFile)
    myFile.close()
    return data
def Highlighting_int(info):
    g = str(info).split()
    h = []
    for o in g:
        r = list(o)
        for f in r:
            try:
                e = int(f)
                h.append(str(e))
            except:
                pass
    y = ''.join(h)
    return y
def add_kanal(text):
    f = open("–î–∞–Ω–Ω—ã–µ\–ö–∞–Ω–∞–ª—ã\–ö–∞–Ω–∞–ª—ã.txt", 'a')
    data = text + "\n"
    f.write(data)
    f.close()
keyboard = types.ReplyKeyboardMarkup(row_width=1,
                                         resize_keyboard=True)  # –ø–æ–¥–∫–ª—é—á–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —á–µ—Ä–µ–∑ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ types
button_phone = types.KeyboardButton(text="–ü–æ–¥–µ–ª–∏—Ç—Å—è —Å–≤–æ–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º", request_contact=True)  # —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
keyboard.add(button_phone)  # –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É
q = ''
def admin_menu(message):
    q = Inlin_Markup()
    q.add(add_Inlin('–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç –∑–∞ –¥—Ä—É–≥–æ–≥–æ', '', '–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç –∑–∞ –¥—Ä—É–≥–æ–≤–∞'))
    q.add(add_Inlin('–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞', '', '–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞'))
    q.add(add_Inlin('–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª', '', '–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª'))
    q.add(add_Inlin('data', '', 'data'))
    q.add(add_Inlin('–ú–µ–Ω—é', '', '–ú–µ–Ω—é'))
    datas = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
    photo = open('–î–∞–Ω–Ω—ã–µ\–§–æ—Ç–æ\–®–µ—Å—Ç–µ—Ä–Ω—è3.jpg', 'rb')
    if datas[str(message.from_user.id)]['platform'] == '–ú–æ–±–∏–ª—å–Ω–∞—è':

        bot.send_photo(message.from_user.id, photo,
                       caption='üõë                    ‚öô–ê–¥–º–∏–Ω –º–µ–Ω—é‚öô                    üõë',
                       reply_markup=q)
        photo.close()
    elif datas[str(message.from_user.id)]['platform'] == '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è':

        bot.send_photo(message.from_user.id, photo,
                       caption='üõë                                              ‚öô–ê–¥–º–∏–Ω –º–µ–Ω—é‚öô                                            üõë',
                       reply_markup=q)
        photo.close()
    else:

        bot.send_photo(message.from_user.id, photo,
                       caption='‚öô–ú–µ–Ω—é‚öô',
                       reply_markup=q)
        photo.close()
def menu(message):
    q = Inlin_Markup()
    #str(message.from_user.id) == "378752653" or
    if True:
    #if str(message.from_user.id) == "378752653" or str(message.from_user.id) == '5311448115':
        #q.add(add_Inlin('–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞', '', '–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞'))
        if str(message.from_user.id) == '5311448115':
            q.add(add_Inlin('–ê–¥–º–∏–Ω –º–µ–Ω—é','','–ê–¥–º–∏–Ω'))
    q.add(add_Inlin('–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç', '', '–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç'),
          add_Inlin('–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç', '', '–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç'))
    #q.add(add_Inlin('–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º', '', '–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º'))
    datas = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
    photo = open('–î–∞–Ω–Ω—ã–µ\–§–æ—Ç–æ\–®–µ—Å—Ç–µ—Ä–Ω—è2.jpg', 'rb')
    if datas[str(message.from_user.id)]['platform'] == '–ú–æ–±–∏–ª—å–Ω–∞—è':

        bot.send_photo(message.from_user.id, photo,
                       caption='üõ†                       ‚öô–ú–µ–Ω—é‚öô                       üõ†',
                       reply_markup=q)
        photo.close()
    elif datas[str(message.from_user.id)]['platform'] == '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è':

        bot.send_photo(message.from_user.id, photo,
                       caption='üõ†                                                 ‚öô–ú–µ–Ω—é‚öô                                               üõ†',
                       reply_markup=q)
        photo.close()
    else:

        bot.send_photo(message.from_user.id, photo,
                       caption='‚öô–ú–µ–Ω—é‚öô',
                       reply_markup=q)
        photo.close()

info_chat = ''
id_user = ''
w = Inlin_Markup()
w.add(add_Inlin('–ú–µ–Ω—é','','–ú–µ–Ω—é'))
@bot.message_handler(commands=['start'])
def start_message(message):
    q = Inlin_Markup()
    q.add(add_Inlin('–£ –º–µ–Ω—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è+', '', '–£ –º–µ–Ω—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è'))
    q.add(add_Inlin('–£ –º–µ–Ω—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è+', '', '–£ –º–µ–Ω—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è'))
    datas = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
    if not str(message.from_user.id) in datas:
        bot.send_message(message.chat.id,
                         "–ó–¥—Ä–∞—Å—Ç–≤—É–π—Ç–µ, —ç—Ç–æ—Ç –±–æ—Ç –±—ã–ª —Å–¥–µ–ª–∞–Ω –¥–ª—è —É–¥–æ–±–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π –≤ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö, –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—á–µ—Ç–∞ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ @Semen904")
        sleep(0.75)
        bot.send_message(message.from_user.id,
                         #, –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—Å—è —Å–≤–æ–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º"
                         '–≤—ã –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã, –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç—å—Ç–µ –≤–æ–ø—Ä–æ—Å')
        sleep(0.75)
        bot.send_message(message.from_user.id,
                         # , –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü–æ–¥–µ–ª–∏—Ç—Å—è —Å–≤–æ–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º"
                         '–£ –≤–∞—Å –∫–∞–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º–º–∞', reply_markup=q)
    else:
        menu(message)
@bot.callback_query_handler(func=lambda call: True)
def callback_inline(call):
    global user_text_money
    global info_chat
    global id_user
    global platform
    f = open("–î–∞–Ω–Ω—ã–µ\–ö–∞–Ω–∞–ª—ã\–ö–∞–Ω–∞–ª—ã.txt", 'r')
    data = list(f)
    f.close()
    end = []
    for ds in data:
        d = list(ds)
        z = 0
        while not z == 12:
            z += 1
            d.pop(0)
        d[0] = "@"
        d.pop(-1)
        d = ''.join(d)
        d = d.split()
        end.append(d)
    if str(call.data) == "–ú–µ–Ω—é":
        bot.delete_message(call.from_user.id, call.message.message_id)
        menu(call)
    elif str(call.data) == '–ü—Ä–∏–Ω—è—Ç—å' and str(call.from_user.id) == '5311448115':
        bot.delete_message(call.from_user.id, call.message.message_id)
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(id_user)]["money"] += int(Highlighting_int(str(user_text_money)))
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        bot.send_message(call.from_user.id, f"–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç +{int(Highlighting_int(str(user_text_money)))} –≤—Å–µ–≥–æ {data[str(id_user)]['money']}")
        bot.send_message(id_user, '–í–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç', reply_markup=w)

    elif str(call.data) == '–ù–µ –ø—Ä–∏–Ω—è—Ç—å' and str(call.from_user.id) == '5311448115':
        bot.delete_message(call.from_user.id, call.message.message_id)
        bot.send_message(call.from_user.id, "–ó–∞–∫–∞–∑ –Ω–µ –ø—Ä–∏–Ω—è—Ç")
        bot.send_message(id_user, '–í–∞—à –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–∫–ª–æ–Ω—ë–Ω,–≤–æ–ø—Ä–æ—Å—ã –∫ –ê–¥–º–∏–Ω—É –ë–û–¢–∞ @Semen904', reply_markup=w)
    elif str(call.data) == 'data' and str(call.from_user.id) == '5311448115':
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        bot.send_message(call.from_user.id, f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\n {data}")
        bot.send_message(call.from_user.id, f"–ö–∞–Ω–∞–ª—ã\n {end}")
    elif str(call.data) == "–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª" and str(call.from_user.id) == '5311448115':
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        bot.send_message(call.from_user.id, "–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞/–≥—Ä—É–ø–ø—ã –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å—Å—ã–ª–∫—É –ø–æ—Ç–æ–º —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª —Ü–µ–Ω—É\n –ø—Ä–∏–º–µ—Ä: https://t.me/Publishing_to_chats 100")
    elif str(call.data) == '–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞' and str(call.from_user.id) == '5311448115':
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = '–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞'
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        bot.send_message(call.from_user.id, "–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞")
    elif str(call.data) == '–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç –∑–∞ –¥—Ä—É–≥–æ–≤–∞' and str(call.from_user.id) == '5311448115':
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç –∑–∞ –¥—Ä—É–≥–æ–≤–∞"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        bot.send_message(call.from_user.id, "–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ–Ω–µ–≥ –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å id —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ—Ç–æ–º —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª —Å—É–º–º—É\n –ø—Ä–∏–º–µ—Ä: 5311448115 100")
    elif str(call.data) == '–ê–¥–º–∏–Ω':
        admin_menu(call)
    elif str(call.data) == "–£ –º–µ–Ω—è –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è":
        platform = '–ú–æ–±–∏–ª—å–Ω–∞—è'
        bot.send_message(call.from_user.id, '–î–ª—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º"', reply_markup=keyboard)
    elif str(call.data) == "–£ –º–µ–Ω—è –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –≤–µ—Ä—Å–∏—è":
        platform = '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è'
        bot.send_message(call.from_user.id, '–î–ª—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–º"',
                         reply_markup=keyboard)
    elif str(call.data) == "–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç":
        bot.delete_message(call.from_user.id, call.message.message_id)
        q = Inlin_Markup()
        for g in end:
            print(g)
            q.add(add_Inlin(str(' ‚ÇΩ'.join(g)), '', str(g[0])))
        q.add(add_Inlin('–ú–µ–Ω—é','','–ú–µ–Ω—é'))
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        bot.send_message(call.from_user.id,
                         f'–í—ã–±–µ—Ä–µ—Ç–µ –∫–∞–Ω–∞–ª –¥–ª—è –ø–æ—Å—Ç–∞, —É –≤–∞—Å –Ω–∞ —Å—á–µ—Ç—É ‚ÇΩ{data[str(call.from_user.id)]["money"]}',
                         reply_markup=q)
    elif str(call.data) in str(end):
        bot.delete_message(call.from_user.id, call.message.message_id)
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        for e in end:
            if e[0] == call.data:
                ai = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", "rb")
                if int(ai[str(call.from_user.id)]["money"]) >= int(e[1]):
                    bot.send_message(call.from_user.id, "–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –ø–æ—Å—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç")
                    a = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", "rb")
                    ff = a[str(call.from_user.id)]["money"]
                    ff = int(ff)
                    ff -= int(e[1])
                    a[str(call.from_user.id)]["money"] = ff
                    FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', a)
                    data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
                    data[str(call.from_user.id)]["info_chat"] = str(call.data)
                    FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
                else:
                    bot.send_message(call.from_user.id, "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤", reply_markup=w)
    elif str(call.data) == "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç":
        bot.delete_message(call.from_user.id, call.message.message_id)
        q = Inlin_Markup()
        q.add(add_Inlin('QIWI','','QIWI'),add_Inlin('OZON','','OZON'))
        q.add(add_Inlin('–¢–ò–ù–¨–ö–û–§–§', '', '–¢–ò–ù–¨–ö–û–§–§'), add_Inlin('TON', '', 'TON'))
        bot.send_message(call.from_user.id, "–≤—ã–±–µ—Ä–µ—Ç–µ —Å–ø–æ—Å–æ–± –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è", reply_markup=q)
    elif str(call.data) == "QIWI":
        bot.delete_message(call.from_user.id, call.message.message_id)
        bot.send_message(call.from_user.id, 'QIWI –∫–æ—à–µ–ª–µ–∫ –ø–æ –Ω–æ–º–µ—Ä—É +79117157906, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ —Å—É–º–º—É –≤ –ë–û–¢')
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç"
        data[str(call.from_user.id)]["Bank"] = "QIWI"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        id_user = call.from_user.id
    elif str(call.data) == "OZON":
        bot.delete_message(call.from_user.id, call.message.message_id)
        bot.send_message(call.from_user.id, '–ö–∞—Ä—Ç–∞ OZON –±–∞–Ω–∫–∞ –ø–æ –Ω–æ–º–µ—Ä—É +79117157906, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ —Å—É–º–º—É –≤ –ë–û–¢')
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç"
        data[str(call.from_user.id)]["Bank"] = "OZON"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        id_user = call.from_user.id
    elif str(call.data) == "–¢–ò–ù–¨–ö–û–§–§":
        bot.delete_message(call.from_user.id, call.message.message_id)
        bot.send_message(call.from_user.id, '–ö–∞—Ä—Ç–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –±–∞–Ω–∫–∞ –ø–æ –Ω–æ–º–µ—Ä—É +79284453602, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ —Å—É–º–º—É –≤ –ë–û–¢')
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç"
        data[str(call.from_user.id)]["Bank"] = "–¢–ò–ù–¨–ö–û–§–§"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        id_user = call.from_user.id
    elif str(call.data) == "TON":
        bot.delete_message(call.from_user.id, call.message.message_id)
        bot.send_message(call.from_user.id,'–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É TON –Ω–∞ –∫–æ—à–µ–ª–µ–∫ @wallet –ø–æ –ª–æ–≥–∏–Ω—É @Semen904, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ —Å—É–º–º—É –≤ –ë–û–¢')
        data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
        data[str(call.from_user.id)]["loke"] = "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç"
        data[str(call.from_user.id)]["Bank"] = "TON"
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        id_user = call.from_user.id
@bot.message_handler(func=lambda message: True)
def messagett(message):
    global info_chat
    global id_user
    global platform
    global user_text_money
    datarr = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')

    if not str(info_chat) == "" and str(datarr[str(message.from_user.id)]["loke"]) == "–Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç":
        datarr[str(message.from_user.id)]["loke"] = ""
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', datarr)
        try:
            bot.send_message(str(datarr[str(message.from_user.id)]["info_chat"]), str(message.text))
            info_chat = ''
            bot.send_message(id_user, '–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ', reply_markup=w)
        except:
            f = open("–î–∞–Ω–Ω—ã–µ\–ö–∞–Ω–∞–ª—ã\–ö–∞–Ω–∞–ª—ã.txt", 'r')
            data = list(f)
            f.close()
            end = []
            for ds in data:
                d = list(ds)
                z = 0
                while not z == 12:
                    z += 1
                    d.pop(0)
                d[0] = "@"
                d.pop(-1)
                d = ''.join(d)
                d = d.split()
                end.append(d)
                for e in end:
                    if e[0] == str(info_chat):
                        bot.send_message(message.from_user.id, "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∫–∞–Ω–∞–ª–æ–º",reply_markup=w)
                        a = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", "rb")
                        ff = a[str(message.from_user.id)]["money"]
                        ff = int(ff)
                        ff += int(e[1])
                        a[str(message.from_user.id)]["money"] = ff
                        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', a)
    elif datarr[str(message.from_user.id)]["loke"] == "–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç":
        datarr[str(message.from_user.id)]["loke"] = ""
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', datarr)
        a = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", "rb")
        q = Inlin_Markup()
        q.add(add_Inlin('–ü—Ä–∏–Ω—è—Ç—å', '', '–ü—Ä–∏–Ω—è—Ç—å'),
              add_Inlin('–ù–µ –ø—Ä–∏–Ω—è—Ç—å', '', '–ù–µ –ø—Ä–∏–Ω—è—Ç—å'))
        photo = open('–î–∞–Ω–Ω—ã–µ\–§–æ—Ç–æ\–ó–∞–∫–∞–∑.jpg', 'rb')
        bot.send_photo('5311448115', photo,
                       caption=f'–ó–∞–∫–∞–∑\n {a[str(id_user)]}\n\n–°—É–º–º–∞ {message.text}\n\n–¶—ã—Ñ—Ä—ã {Highlighting_int(message.text)}', reply_markup=q)
        photo.close()
        user_text_money = message.text
        #bot.send_message('5311448115',"")
    elif str(datarr[str(message.from_user.id)]["loke"]) == "–î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª" and str(message.from_user.id) == '5311448115':
        datarr[str(message.from_user.id)]["loke"] = ""
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', datarr)
        add_kanal(str(message.text))
    elif str(datarr[str(message.from_user.id)]["loke"]) == '–ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ—Ç–∞' and str(message.from_user.id) == '5311448115':
        datarr[str(message.from_user.id)]["loke"] = ""
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', datarr)
        data = FileLoad('–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ id', 'rb')
        for datas in data:
            bot.send_message(datas, str(message.text))
    elif str(datarr[str(message.from_user.id)]["loke"]) == '–ü–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç –∑–∞ –¥—Ä—É–≥–æ–≤–∞' and str(message.from_user.id) == '5311448115':
        s = message.text.split()
        o = s[0]
        d = s[1]
        a = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", "rb")
        a[str(o)]["money"] += int(d)
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', a)
@bot.message_handler(content_types=['contact'])
def photo(message):
    data = FileLoad("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'rb')
    if not str(message.from_user.id) in data:
        data[str(message.from_user.id)] = {'phone': message.contact.phone_number, 'name': message.contact.first_name,
                                           'last_name': message.contact.last_name, "user_id": message.contact.user_id,
                                           'vcard': message.contact.vcard, "user_name": message.from_user.username,
                                           'language_code': message.from_user.language_code, "money": 0, "platform": platform,
                                           'Bank': '', 'loke': '', "info_chat": ''}
        FileDump("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏", 'wb', data)
        with open("–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ id.txt", "a", encoding='utf-8') as f:
            data = "\n" + str(message.contact.user_id)
            f.write(data)
        data = FileLoad('–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ id', 'rb')
        data.append(str(message.contact.user_id))
        FileDump('–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ id', 'wb', data)
        print(FileLoad('–î–∞–Ω–Ω—ã–µ\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ id', 'rb'))
        keyboarde = types.ReplyKeyboardRemove()
        bot.send_message(message.chat.id, f"–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å, —É –≤–∞—Å –Ω–∞ —Å—á–µ—Ç—É 0‚ÇΩ", reply_markup=keyboarde)
        menu(message)

bot.polling()
